# MS2
1. Для начала создайте папку.
1. Скопируйте репозиторий командой `git clone https://github.com/MrDevil73/MS2`
1. Создайте виртуальную среду `python -m venv venv`, а затем активируйте её.
   - `venv\Scripts\activate.bat` для Windows;
   - `source venv/bin/activate` для Linux и MacOS.
1. Установите необходимые зависимости `pip install -r requirements.txt`
1. Запустите докер контейнер для базы данных командой `docker-compose up -d` . _[Docker](https://www.docker.com/products/docker-desktop/)_
1. Выполните миграцию в базу данных `python manage.py migrate`
1. Запустите приложение `python manage.py runserver 8000`
2. Наслаждайтесь приложением :yum: .


## ***Все следующие запросы выполняются после ссылки http://127.0.0.1:8000/api/***
# blog/
### POST: Создает новый блог. Требуется аутентификация пользователя.
* title - заголовок
* description  - описание

# blogs/
### GET: Возвращает список блогов.
Для данного метода доступны [параметры, смотрите ниже](#параметры).

# blogs/<int:blog_id>/
### GET: Возвращает подробную информацию о блоге с заданным идентификатором.
### DELETE: Удаляет блог с заданным идентификатором. Для этого пользователь должен быть владельцем блога.

# blogs/<int:blog_id>/posts/
### GET: Возвращает список сообщений для блога с заданным идентификатором.

# blogs/<int:blog_id>/authors/
### GET: Возвращает список авторов для блога с заданным идентификатором. Доступно только владельцу блога.
### POST: Добавляет авторов к блогу с заданным идентификатором. Доступно только владельцу блога.
* author_names - список никнеймов авторов которые нужно добавить.
### DELETE: Удаляет авторов из блога с заданным идентификатором. Доступно только владельцу блога.
* author_names - список никнеймов авторов которые нужно удалить.

# myblogs/
### GET: Возвращает список блогов, которыми владеет текущий пользователь. Требуется аутентификация пользователя.

# detailblog/<int:blog_id>/
### GET: Возвращает дополнительные данные о блоге с заданным идентификатором.

# post/
### POST: Создает новый пост в блоге. Для создания поста необходимо предоставить данные, включая идентификатор блога. Для создания поста пользователь должен быть авторизован.
* blog_id - Блог где создаётся пост
* title - Название
* body - Текст поста
* is_published - False по умолчанию. Если указать True пост будет опубликован.

# posts/
### GET: Возвращает список всех постов.
Для данного метода доступны [параметры, смотрите ниже](#параметры).

# posts/int:post_id/
### GET: Возвращает подробную информацию о посте с заданным идентификатором.
### DELETE: Удаляет пост с заданным идентификатором. Для этого пользователь должен быть автором поста или владельцем блога, к которому относится пост.

# posts/int:post_id/public/
### PATCH: Публикует пост с заданным идентификатором. Для публикации поста пользователь должен быть автором поста. Публикация поста обновляет информацию о времени последнего обновления блога, к которому относится пост.

# myposts/
### GET: Возвращает список постов пользователя, сортированный по дате создания в порядке убывания. Для получения списка постов пользователь должен быть авторизован.

# posts/int:post_id/like/
### POST: Добавляет лайк к посту с заданным идентификатором. Для добавления лайка пользователь должен быть авторизован и еще не ставить лайк к данному посту.
### DELETE: Удаляет лайк, который пользователь ранее поставил посту с заданным идентификатором. Для удаления лайка пользователь должен быть авторизован и уже ставить лайк к данному посту.

# posts/int:post_id/comments/
### GET: Возращает список комментариев конкртеного поста.

# posts/int:post_id/comments/create/
### POST: Создаёт комментарий к указанному посту. Для создания необходимо быть авторизированным.
* body Текст комментария.

# posts/<int:post_id>/comments/<int:comment_id>/
### DELETE: Удаляет комментарий. Пользователь должен быть создателем комментария.

# subscriptions/
### GET: Возвращает список подписок пользователя. Для получения списка подписок пользователь должен быть авторизован.

# subscriptions/int:blog_id/
### POST: Подписывает пользователя на блог с заданным идентификатором. Для подписки пользователь должен быть авторизован и еще не подписан на данный блог.
### DELETE: Отписывает пользователя от блога с заданным идентификатором. Для отписки пользователь должен быть авторизован и уже подписан на данный блог.

# register/
### POST: Регистрирует нового пользователя. Для регистрации необходимо предоставить данные пользователя, включая имя пользователя и пароль.
* username - Имя пользователя
* password - Пароль
# general/
### GET: Возвращает список блогов со сокращенной информацией. 

# token/
### POST Возвращает информацию для авторизации пользователя. 


# Параметры
### Выборку можно ограничить по дате создания, передав ключи
* start_date - от какой даты брать элементы
* end_date - до какой даты брать элементы
### Выбрать кто создал элементы
* author - никнейм автора
### Сортировка order_by
* title - по названию
* -title - по названию в обратном порядке
* created_at - по дате создания
* -created_at - в обратном порядке создания
* likes_count - по колличеству лайков
* -likes_count - по колличеству лайков в обратном порядке
* relev - По релевантности
* -relev - В обратном порядке релеватности
